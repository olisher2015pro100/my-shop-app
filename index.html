<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mister snich</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        body { 
            font-family: 'Courier New', monospace; background: #fff; margin: 0; 
            text-transform: lowercase; color: #000;
        }

        /* КОНТЕЙНЕРЫ ПЕРЕКЛЮЧЕНИЯ */
        .page { display: none; padding: 20px; box-sizing: border-box; }
        .active { display: block !important; }

        /* ГЛАВНЫЙ ЭКРАН - СЕТКА ТОВАРОВ */
        .catalog-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 400px)); 
            gap: 40px; 
            margin-top: 20px;
        }
        .item-card { cursor: pointer; }
        .item-card img { width: 100%; height: auto; display: block; background: #f0f0f0; }
        .item-info { margin-top: 10px; font-size: 14px; }

        /* СТРАНИЦА ТОВАРА - НОРМАЛЬНЫЙ ВИД */
        .product-content { 
            display: flex; 
            gap: 40px; 
            max-width: 1200px; 
            margin: 0 auto; 
        }
        .gallery-container { flex: 1; }
        .gallery-container img { width: 100%; height: auto; display: block; }
        
        .info-container { flex: 0 0 350px; }

        /* КНОПКИ И ТЕКСТ */
        .nav-back { cursor: pointer; opacity: 0.5; margin-bottom: 20px; display: inline-block; }
        .price-tag { font-size: 20px; margin: 10px 0 30px 0; }
        
        .size-selector { margin-bottom: 30px; }
        .size-list { display: flex; gap: 10px; margin-top: 10px; }
        .size-option { 
            flex: 1; padding: 10px; border: 1px solid #000; background: #fff; 
            cursor: pointer; font-family: inherit; text-align: center;
        }
        .size-option.selected { background: #000; color: #fff; }

        .description { font-size: 13px; line-height: 1.6; white-space: pre-line; border-top: 1px solid #eee; padding-top: 20px; }
        .btn-buy { 
            width: 100%; background: #000; color: #fff; border: none; 
            padding: 15px; font-family: inherit; margin-top: 20px; cursor: pointer; 
        }

        /* Мобильная версия */
        @media (max-width: 768px) {
            .product-content { flex-direction: column; }
            .info-container { flex: none; width: 100%; }
            .catalog-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div id="main-page" class="page active">
        <div style="opacity: 0.5; font-size: 12px;">mister snich / drop 01</div>
        <div class="catalog-grid">
            <div class="item-card" onclick="openItem('zip')">
                <img src="zip-hoode.jpg">
                <div class="item-info">zip-hoode / "snich" — 4500 rub</div>
            </div>
            <div class="item-card" onclick="openItem('tshirt')">
                <img src="t-shirt-v2.jpg"> <div class="item-info">t-shirt / "v2" — tba</div>
            </div>
        </div>
    </div>

    <div id="item-page" class="page">
        <div class="nav-back" onclick="goTo('main-page')">← назад</div>
        <div class="product-content">
            <div class="gallery-container" id="g-list"></div>
            
            <div class="info-container">
                <h1 id="g-title" style="font-size: 24px; margin: 0;"></h1>
                <div class="price-tag" id="g-price"></div>

                <div class="size-selector">
                    <div>размер:</div>
                    <div class="size-list">
                        <button class="size-option" onclick="pickSize(this)">baby-size</button>
                        <button class="size-option" onclick="pickSize(this)">big-size</button>
                    </div>
                </div>

                <div class="description" id="g-desc"></div>
                <button class="btn-buy" onclick="tg.sendData('order_click')">в корзину</button>
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        const data = {
            zip: {
                name: 'zip-hoode / "snich"',
                price: '4500 rub',
                images: ['zip-hoode.jpg'],
                text: `new drop\nоверсайз крой\nткань: футер 3-х нитка\nbaby size (m-l) / big size (xl+)\n400 rub shipping`
            },
            tshirt: {
                name: 't-shirt / "v2"',
                price: 'tba',
                images: ['t-shirt-v2.jpg'], 
                text: `coming soon\nnew drop / collection 01`
            }
        };

        function goTo(id) {
            $('.page').removeClass('active');
            $('#' + id).addClass('active');
            window.scrollTo(0,0);
        }

        function openItem(id) {
            const item = data[id];
            $('#g-title').text(item.name);
            $('#g-price').text(item.price);
            $('#g-desc').text(item.text);
            $('#g-list').html(item.images.map(i => `<img src="${i}">`).join(''));
            $('.size-option').removeClass('selected');
            goTo('item-page');
        }

        function pickSize(el) {
            $('.size-option').removeClass('selected');
            $(el).addClass('selected');
        }
    </script>
</body>
</html>
